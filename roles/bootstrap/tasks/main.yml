---

- name: install fzf
  package:
    name: fzf
    state: present
  become: yes

- name: install neovim
  package:
    name: neovim
    state: present
  become: yes

- name: install npm
  package:
    name: npm
    state: present
  become: yes

- name: create {{ git_base_dir }} for github projects
  file:
    path: "{{ git_base_dir }}"
    state: directory

- name: create ~/.config/zsh and directories under it
  file:
    path: "{{ ansible_user_dir }}/.config/zsh/{{ item }}"
    state: directory
  loop:
    - completions
    - functions
    - runcommands

- name: create ~/.config/nvim and directories under it
  file:
    path: "{{ ansible_user_dir }}/.config/nvim/{{ item }}"
    state: directory
  loop:
    - autoload
    - colors

- name: softlink wal.vim colors from ~/.config/nvim/colors/wal.vim
  file:
    src: "{{ inventory_dir }}/roles/bootstrap/files/wal.vim"
    dest: "{{ ansible_user_dir }}/.config/nvim/colors/wal.vim"
    state: link

- name: softlink plug.vim from ~/.config/nvim/autoload/plug.vim
  file:
    src: "{{ inventory_dir }}/roles/bootstrap/files/plug.vim"
    dest: "{{ ansible_user_dir }}/.config/nvim/autoload/plug.vim"
    state: link

- name: softlink vimrc from ~/.config/nvim/init.vim and ~/.vimrc
  file:
    src: "{{ inventory_dir }}/roles/bootstrap/files/vimrc"
    dest: "{{ item }}"
    state: link
  loop:
    - "{{ ansible_user_dir }}/.vimrc"
    - "{{ ansible_user_dir }}/.config/nvim/init.vim"
